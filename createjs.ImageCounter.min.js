"use strict";"undefined"==typeof createjs&&(window.createjs={});const init=()=>{if(void 0!==createjs.Container){createjs.ImageCounter=class extends createjs.Container{constructor(t){super(),this.sprites=t||{},this.text="",this.textAlign="left",this.verticalAlign="bottom",this.kerning=0,this._pool={};const e=[];let s="";const i=t=>{this.stage.addEventListener("drawstart",r),this.removeEventListener(t.type,i),this.addEventListener("removed",n)},r=t=>{const i=this.text,r=s;if(r!==i){let t,n=0,h=0;const o=i.length,d=[],a=[],l=this._pool;e.reverse();for(let t=r.length;t>0;){const s=r[--t],i=e.pop();this.removeChild(i),l[s].push(i)}s=i;for(let t=o;t>0;){const s=i[--t];let r;r=l[s][0]?l[s].pop():this.sprites[s].clone(),e.push(r);const o=r.getBounds();n+=o.width,d.push(o.width+this.kerning),a.push(o.height),h<o.height&&(h=o.height),this.addChild(r)}switch(this.textAlign){case"center":t=.5*n;break;case"right":t=-n;break;default:t=0}switch(this.verticalAlign){case"middle":for(let s=o;s>0;){const i=e[--s];i.x=t,t+=d[s],i.y=.5*(h-a[s])}break;case"top":for(let s=o;s>0;){const i=e[--s];i.x=t,t+=d[s],i.y=0}break;default:for(let s=o;s>0;){const i=e[--s];i.x=t,t+=d[s],i.y=h-a[s]}}}},n=t=>{this.removeEventListener(t.type,n),this.addEventListener("added",i),this.stage.removeEventListener("drawstart",r)};this.addEventListener("added",i)}register(t,e){return this.sprites[t]=e,this._pool[t]=[],this}unregister(t){return delete this.sprites[t],delete this._pool[t],this}}}else setTimeout(init,10)};init();
//# sourceMappingURL=createjs.ImageCounter.min.js.map